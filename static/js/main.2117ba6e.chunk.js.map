{"version":3,"sources":["images/loading-icon.gif","images/no-photo.png","components/ErrorElement/ErrorElement.js","components/ErrorBoundary/ErrorBoundary.js","reducers/updateRandomPlanetState.js","reducers/updatePersonMiniListState.js","reducers/updatePersonListState.js","reducers/updatePersonState.js","reducers/updatePlanetListState.js","reducers/updatePlanetState.js","reducers/updateStarshipListState.js","reducers/updateStarshipState.js","reducers/reducer.js","store.js","constants/entityTypes.js","components/Header/Header.js","components/swapiContext/swapiContext.js","components/hoc/connectWithSwapiService.js","components/Spinner/Spinner.js","actions/actions.js","utils/itemSingleDataArrayToString.js","components/RandomPlanet/RandomPlanet.js","components/PersonMiniList/PersonMiniList.js","components/MainPage/MainPage.js","components/Pagination/Pagination.js","components/ItemList/ItemList.js","components/PersonList/PersonList.js","components/RelationList/RelationList.js","components/ItemPage/itemPage.js","components/PersonPage/PersonPage.js","components/PlanetList/PlanetList.js","components/PageNotFound/PageNotFound.js","components/PlanetPage/PlanetPage.js","components/StarshipList/StarshipList.js","components/StarshipPage/StarshipPage.js","components/App/App.js","utils/getId.js","utils/transformIncomigData.js","index.js","api/SwapiService.js","constants/apiUrl.js"],"names":["module","exports","ErrorElement","props","className","error","ErrorBoundary","state","hasError","this","children","React","Component","updateRandomPlanetState","action","randomPlanetState","type","planet","loading","payload","updatePersonMiniListState","personMiniListState","person","list","updatePersonListState","personListState","pages","results","updatePersonState","personState","item","updatePlanetListState","planetListState","planetState","updateStarshipListState","starshipListState","updateStarshipState","starshipState","initialState","reducer","console","log","updatePlanetState","store","createStore","entityTypes","starship","Header","currentMenuIndex","menuItems","name","link","pathname","location","newMenuIndex","forEach","index","RegExp","test","map","classes","classnames","active","key","to","connectWithcRouter","createContext","SwapiServiceProvider","Provider","SwapiServiceConsumer","Consumer","connectWithSwapiService","Wrapped","value","swapiService","Spinner","src","loadingIcon","alt","fetchImage","service","dispatch","newDispatch","newItem","id","then","blob","img","URL","createObjectURL","catch","err","noPhotoImg","fetchSingleItem","fetchRequestAction","fetchSuccessAction","fetchErrorAction","entityType","ownProps","getItemMethod","getImageMethod","relations","fetchAllRelations","fetchListItems","page","getListMethod","data","updatedListPromiseArray","Promise","all","newList","updatedRelationsPromiseArray","relation","newRelationsPromiseArray","relationId","newRelations","newRelationsWithImgPromiseArray","itemList","fetchRelation","updatedRelations","updatedItem","fetchRandomPlanet","selectPersonFromList","fetchPersonMiniList","getAllPersonsMini","Math","floor","random","selectPerson","getPersonPhoto","fetchPersonList","fetchPerson","fetchPlanetList","fetchPlanet","fetchStarshipList","fetchStarship","itemSingleDataArrayToString","array","RandomPlanetContainer","Content","RandomPlanet","dataKeys","Object","keys","number","connectWithStore","PersonMiniListContainer","ListContent","PhotoContent","selectedId","PersonMiniList","onClick","PersonPhoto","MainPage","Pagination","currentPage","countPages","eventListener","pageQuantity","Array","ceil","prevClass","disabled","nextClass","length","i","pageNumber","ItemList","changePage","fetchList","history","push","currentPageFromHistory","match","params","prevProps","oldPathname","newPathname","isMainLink","ItemCard","style","width","RelationList","itemPage","fetchItem","AditionalContent","goBack","App","path","exact","component","PersonList","PersonPage","PlanetList","PlanetPage","StarshipList","StarshipPage","PageNotFound","getId","source","translateUnknown","text","transformPlanet","miniFetch","url","population","rotation","rotation_period","diameter","residents","transformPerson","gender","birth","birth_year","mass","height","starships","homeworld","transformStarship","cost","cost_in_credits","manufacturer","crew","passengers","pilots","transformPaginationData","count","dataApiUrl","imgApiUrl","getPerson","_getResource","_dataApiUrl","getAllPersons","_getImage","_imgApiUrl","getPlanet","getAllPlanets","getPlanetPhoto","getStarship","getAllStarship","getStarshipPhoto","fetch","res","ok","Error","status","json","ReactDOM","render","basename","document","getElementById"],"mappings":"sGAAAA,EAAOC,QAAU,IAA0B,0C,iBCA3CD,EAAOC,QAAU,8uH,4JCSFC,EAPM,SAACC,GAClB,OACI,yBAAKC,UAAU,0BAAf,gDACgBD,EAAME,SCFTC,E,4MACjBC,MAAQ,CAAEC,UAAU,G,uDAOhB,OAAOC,KAAKF,MAAMC,SAClB,kBAAC,EAAD,CAAcH,MAAOI,KAAKF,MAAMC,WAChCC,KAAKN,MAAMO,Y,gDAPiBL,GAC5B,MAAO,CAAEG,SAAUH,O,GAJgBM,IAAMC,W,gBCHlC,SAASC,EAAwBN,EAAOO,GAAS,IACpDC,EAAsBR,EAAtBQ,kBACR,OAAOD,EAAOE,MACV,IAAK,8BACD,MAAO,CACHC,OAAQ,GACRC,SAAS,EACTb,MAAO,MAEf,IAAK,8BACD,MAAO,CACHY,OAAQH,EAAOK,QACfD,SAAS,EACTb,MAAO,MAEf,IAAK,8BACD,MAAO,CACHY,OAAQ,GACRC,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QAAS,OAAOJ,GCrBT,SAASK,EAA0Bb,EAAOO,GAAS,IACtDO,EAAwBd,EAAxBc,oBACR,OAAOP,EAAOE,MACV,IAAK,iCACD,MAAO,CACHM,OAAQ,KACRC,KAAK,GACLL,SAAS,EACTb,MAAO,MAEf,IAAK,iCACD,MAAO,CACHiB,OAAQ,KACRC,KAAMT,EAAOK,QACbD,SAAS,EACTb,MAAO,MAEf,IAAK,iCACD,MAAO,CACHiB,OAAQ,KACRC,KAAK,GACLL,SAAS,EACTb,MAAOS,EAAOK,SAEtB,IAAK,+BACD,MAAO,CACHG,OAAQR,EAAOK,QACfI,KAAMF,EAAoBE,KAC1BL,SAAS,EACTb,MAAO,MAEf,QAAS,OAAOgB,GC/BT,SAASG,EAAsBjB,EAAOO,GAAS,IAClDW,EAAoBlB,EAApBkB,gBACR,OAAOX,EAAOE,MACV,IAAK,4BACD,MAAO,CACHU,MAAO,GACPH,KAAK,GACLL,SAAS,EACTb,MAAO,MAEf,IAAK,4BACD,MAAO,CACHqB,MAAOZ,EAAOK,QAAQO,MACtBH,KAAMT,EAAOK,QAAQQ,QACrBT,SAAS,EACTb,MAAO,MAEf,IAAK,4BACD,MAAO,CACHqB,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QAAS,OAAOM,GCxBT,SAASG,EAAkBrB,EAAOO,GAAS,IAC9Ce,EAAgBtB,EAAhBsB,YACR,OAAOf,EAAOE,MACV,IAAK,uBACD,MAAO,CACHc,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEf,IAAK,uBACD,MAAO,CACHyB,KAAMhB,EAAOK,QACbD,SAAS,EACTb,MAAO,MAEf,IAAK,uBACD,MAAO,CACHyB,KAAM,GACNZ,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QACI,OAAOU,GCtBJ,SAASE,EAAsBxB,EAAOO,GAAS,IAClDkB,EAAoBzB,EAApByB,gBACR,OAAOlB,EAAOE,MACV,IAAK,4BACD,MAAO,CACHU,MAAO,GACPH,KAAK,GACLL,SAAS,EACTb,MAAO,MAEf,IAAK,4BACD,MAAO,CACHqB,MAAOZ,EAAOK,QAAQO,MACtBH,KAAMT,EAAOK,QAAQQ,QACrBT,SAAS,EACTb,MAAO,MAEf,IAAK,4BACD,MAAO,CACHqB,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QAAS,OAAOa,GCxBT,SAASJ,EAAkBrB,EAAOO,GAAS,IAC9CmB,EAAgB1B,EAAhB0B,YACR,OAAOnB,EAAOE,MACV,IAAK,uBACD,MAAO,CACHc,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEf,IAAK,uBACD,MAAO,CACHyB,KAAMhB,EAAOK,QACbD,SAAS,EACTb,MAAO,MAEf,IAAK,uBACD,MAAO,CACHyB,KAAM,GACNZ,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QACI,OAAOc,GCtBJ,SAASC,EAAwB3B,EAAOO,GAAS,IACpDqB,EAAsB5B,EAAtB4B,kBACR,OAAOrB,EAAOE,MACV,IAAK,8BACD,MAAO,CACHU,MAAO,GACPH,KAAK,GACLL,SAAS,EACTb,MAAO,MAEf,IAAK,8BACD,MAAO,CACHqB,MAAOZ,EAAOK,QAAQO,MACtBH,KAAMT,EAAOK,QAAQQ,QACrBT,SAAS,EACTb,MAAO,MAEf,IAAK,8BACD,MAAO,CACHqB,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QAAS,OAAOgB,GCxBT,SAASC,EAAoB7B,EAAOO,GAAS,IAChDuB,EAAkB9B,EAAlB8B,cACR,OAAOvB,EAAOE,MACV,IAAK,yBACD,MAAO,CACHc,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEf,IAAK,yBACD,MAAO,CACHyB,KAAMhB,EAAOK,QACbD,SAAS,EACTb,MAAO,MAEf,IAAK,yBACD,MAAO,CACHyB,KAAM,GACNZ,SAAS,EACTb,MAAOS,EAAOK,SAEtB,QACI,OAAOkB,GCbnB,IAAMC,EAAe,CACjBvB,kBAAmB,CACfE,OAAQ,GACRC,SAAS,EACTb,MAAO,MAEXgB,oBAAqB,CACjBC,OAAQ,KACRC,KAAK,GACLL,SAAS,EACTb,MAAO,MAEXwB,YAAa,CACTC,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEXoB,gBAAiB,CACbC,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAO,MAEX4B,YAAa,CACTH,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEX2B,gBAAiB,CACbN,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAO,MAEXgC,cAAe,CACXP,KAAM,GACNZ,SAAS,EACTb,MAAO,MAEX8B,kBAAmB,CACfT,MAAO,GACPH,KAAM,GACNL,SAAS,EACTb,MAAO,OAmBAkC,EAfC,WAAmC,IAAlChC,EAAiC,uDAAzB+B,EAAcxB,EAAW,uCAE9C,OADA0B,QAAQC,IAAI3B,EAAOE,MACZ,2BACAT,GADP,IAEIQ,kBAAmBF,EAAwBN,EAAOO,GAClDO,oBAAqBD,EAA0Bb,EAAOO,GACtDe,YAAaD,EAAkBrB,EAAOO,GACtCW,gBAAiBD,EAAsBjB,EAAOO,GAC9CmB,YAAaS,EAAkBnC,EAAOO,GACtCkB,gBAAiBD,EAAsBxB,EAAOO,GAC9CqB,kBAAmBD,EAAwB3B,EAAOO,GAClDuB,cAAeD,EAAoB7B,EAAOO,MC9DnC6B,EAFDC,YAAYL,G,wBCGXM,EANK,CAChBvB,OAAQ,SACRL,OAAQ,SACR6B,SAAU,YCGRC,E,kDACF,WAAY5C,GAAQ,IAAD,8BACf,cAAMA,IACD6C,iBAAmB,EACxB,EAAKC,UAAY,CACb,CACIC,KAAM,6CACNC,KAAM,IACNnC,KAAM,QAEV,CACIkC,KAAM,yDACNC,KAAK,IAAD,OAAMN,EAAYvB,OAAlB,QACJN,KAAM6B,EAAYvB,QAEtB,CACI4B,KAAM,6CACNC,KAAK,IAAD,OAAMN,EAAY5B,OAAlB,QACJD,KAAM6B,EAAY5B,QAEtB,CACIiC,KAAM,6CACNC,KAAK,gBACLnC,KAAM6B,EAAYC,WAtBX,E,mGA+BT,IAAD,OACGM,EAAa3C,KAAKN,MAAMkD,SAAxBD,SACJE,EAAe,KASnB,OARA7C,KAAKwC,UAAUM,SAAQ,SAACzB,EAAM0B,GACX,IAAIC,OAAJ,YAAgB3B,EAAKd,OAC1B0C,KAAKN,KACXE,EAAeE,MAGvB/C,KAAKuC,iBAAmBM,GAAgB,EAGpC,gCACI,sCACA,0OACA,wBAAIlD,UAAU,qBACTK,KAAKwC,UAAUU,KAAI,SAAC7B,EAAM0B,GACvB,IAAMI,EAAUC,IAAW,CAAE,YAAY,EAAMC,OAAQ,EAAKd,mBAAqBQ,IACjF,OACI,wBAAIO,IAAG,kBAAaP,GAASpD,UAAU,YACnC,kBAAC,IAAD,CAAM4D,GAAIlC,EAAKqB,KAAM/C,UAAWwD,GAAU9B,EAAKoB,gB,GApD1DvC,IAAMC,WA8DZqD,cAAmBlB,G,EC/D9BpC,IAAMuD,gBAFIC,E,EAAVC,SACUC,E,EAAVC,SCDW,SAASC,EAAwBC,GAC5C,OAAO,SAACrE,GACJ,OACI,kBAACkE,EAAD,MAEQ,SAACI,GACG,OAAO,kBAACD,EAAD,iBAAarE,EAAb,CAAoBuE,aAAcD,S,qBCElDE,EARC,WACZ,OACI,yBAAKvE,UAAU,0BACX,yBAAKwE,IAAKC,IAAaC,IAAI,0D,iBCHjCC,EAAa,SAACjD,EAAMkD,EAASC,EAAUnE,GACzC,IAAIoE,EAYJ,OAVIA,EADAD,EACc,SAACE,GAEX,OADAF,EAASnE,EAAOqE,IACTA,GAKG,SAACA,GAAD,OAAaA,GAGxBH,EAAQlD,EAAKsD,IACfC,MAAK,SAACC,GACH,IAAMC,EAAMC,IAAIC,gBAAgBH,GAC1BH,EAAO,2BACNrD,GADM,IAETyD,QAEJ,OAAOL,EAAYC,MAEtBO,OAAM,SAAAC,GACHnD,QAAQC,IAAIkD,GACZ,IAAMR,EAAO,2BACNrD,GADM,IAETyD,IAAKK,MAET,OAAOV,EAAYC,OAIzBU,EAAkB,SAACC,EAAoBC,EAAoBC,EAAkBC,GAA3D,OAA0E,SAAChB,EAAUiB,GAAX,OAAwB,SAACd,GAAQ,IAAD,EACpFc,EAASxB,aAAauB,GAAxDE,EADsH,EACtHA,cAAeC,EADuG,EACvGA,eACvBnB,EAASa,KACTK,EAAcf,GACTC,MAAK,SAAAvD,GAEF,OADAmD,EAASc,EAAmBjE,IACrBiD,EAAWjD,EAAMsE,EAAgBnB,EAAUc,MAErDV,MAAK,SAAAvD,GACEA,EAAKuE,WACLC,EAAkBxE,EAAMoE,EAASxB,aAAcO,EAAUc,MAGhEL,OAAM,SAAAC,GAAG,OAAIV,EAASe,EAAiBL,UAG1CY,EAAiB,SAACT,EAAoBC,EAAoBC,EAAkBC,GAA3D,OAA0E,SAAChB,EAAUiB,GAAX,OAAwB,SAACM,GAAU,IAAD,EACrFN,EAASxB,aAAauB,GAAxDG,EADuH,EACvHA,eAAgBK,EADuG,EACvGA,cACxBxB,EAASa,KACTW,EAAcD,GACLnB,MAAK,SAAAqB,GACFzB,EAASc,EAAmBW,IAC5B,IAAMC,EAA0BD,EAAK/E,QAAQgC,KAAI,SAAA7B,GAAI,OACjDiD,EAAWjD,EAAMsE,MAErBQ,QAAQC,IAAIF,GAAyBtB,MAAK,SAAAyB,GACtCJ,EAAK/E,QAAUmF,EACf7B,EAASc,EAAmBW,UAGnChB,OAAM,SAAAC,GAAG,OAAIV,EAASe,EAAiBL,UAyB9CW,EAAoB,SAACxE,EAAMkD,EAASC,EAAUc,GAChD,IAAMgB,EAA+BjF,EAAKuE,UAAU1C,KAAI,SAAAqD,GAAQ,OAvB9C,SAACX,EAAWrB,GAAa,IAAD,EACAA,EAAQqB,EAAUrF,MAApDmF,EADkC,EAClCA,cAAeC,EADmB,EACnBA,eACjBa,EAA2BZ,EAAUK,KAAK/C,KAAI,SAAAuD,GAChD,OAAOf,EAAce,GAAY,MAErC,OAAON,QAAQC,IAAII,GACd5B,MAAK,SAAA8B,GAAY,OAAIA,EAAaxD,KAAI,SAAAqD,GAAQ,OAAIjC,EAAWiC,EAAUZ,SACvEf,MAAK,SAAA+B,GAA+B,OAAIR,QAAQC,IAAIO,MACpD/B,MAAK,SAAAgC,GAMH,OALmB,2BACXhB,GADW,IAEdnF,SAAS,EACTwF,KAAMW,OAIb3B,OAAM,SAAAC,GACHnD,QAAQC,IAAIkD,MAMgD2B,CAAcN,EAAUhC,MAC5F4B,QAAQC,IAAIE,GACP1B,MAAK,SAAAkC,GACF,IAAMC,EAAW,2BACV1F,GADU,IAEbuE,UAAWkB,IAEftC,EAASc,EAAmByB,QAqBlCC,EAAoB5B,GAjBO,WAC7B,MAAO,CACH7E,KAAM,kCAGmB,SAAC0F,GAC9B,MAAO,CACH1F,KAAM,8BACNG,QAASuF,MAGgB,SAACrG,GAC9B,MAAO,CACHW,KAAM,8BACNG,QAASd,KAObwC,EAAY5B,QAoBVyG,EAAuB,SAAChB,GAC1B,MAAO,CACH1F,KAAM,+BACNG,QAASuF,IAGXiB,EAAsB,SAAC1C,EAAUiB,GAAX,OAAwB,WAAO,IAC/CxB,EAAiBwB,EAAjBxB,aACRO,EAxBO,CACHjE,KAAM,mCAwBN0D,EAAakD,oBACRvC,MAAK,SAAA9D,GACF0D,EAtBL,CACHjE,KAAM,iCACNG,QAoB4CI,IACpC,IAAMD,EAASC,EAAKsG,KAAKC,MAAoB,GAAdD,KAAKE,WACpCC,EAAa/C,EAAUiB,EAAvB8B,CAAiC1G,EAAjC0G,MAEHtC,OAAM,SAAAC,GAAG,OAAIV,EApBf,CACHjE,KAAM,iCACNG,QAkBsDwE,SAGxDqC,EAAe,SAAC/C,EAAUiB,GAAX,OAAwB,SAAC5E,GAAD,OAAY,WAAO,IACpDoD,EAAiBwB,EAAjBxB,aACRO,EAASyC,EAAqBpG,IAC9ByD,EAAWzD,EAAQoD,EAAauD,eAAgBhD,EAAUyC,MAqBxDQ,EAAkB3B,GAlBO,WAC3B,MAAO,CACHvF,KAAM,gCAGiB,SAAC0F,GAC5B,MAAO,CACH1F,KAAM,4BACNG,QAASuF,MAGc,SAACrG,GAC5B,MAAO,CACHW,KAAM,4BACNG,QAASd,KAQbwC,EAAYvB,QAoBV6G,EAActC,GAjBO,WACvB,MAAO,CACH7E,KAAM,2BAGa,SAAC0F,GACxB,MAAO,CACH1F,KAAM,uBACNG,QAASuF,MAGU,SAACrG,GACxB,MAAO,CACHW,KAAM,uBACNG,QAASd,KAObwC,EAAYvB,QAoBV8G,EAAkB7B,GAjBO,WAC3B,MAAO,CACHvF,KAAM,gCAGiB,SAAC0F,GAC5B,MAAO,CACH1F,KAAM,4BACNG,QAASuF,MAGc,SAACrG,GAC5B,MAAO,CACHW,KAAM,4BACNG,QAASd,KAObwC,EAAY5B,QAoBVoH,GAAcxC,GAjBO,WACvB,MAAO,CACH7E,KAAM,2BAGa,SAAC0F,GACxB,MAAO,CACH1F,KAAM,uBACNG,QAASuF,MAGU,SAACrG,GACxB,MAAO,CACHW,KAAM,uBACNG,QAASd,KAObwC,EAAY5B,QAoBVqH,GAAoB/B,GAjBO,WAC7B,MAAO,CACHvF,KAAM,kCAGmB,SAAC0F,GAC9B,MAAO,CACH1F,KAAM,8BACNG,QAASuF,MAGgB,SAACrG,GAC9B,MAAO,CACHW,KAAM,8BACNG,QAASd,KAObwC,EAAYC,UAoBVyF,GAAgB1C,GAjBO,WACzB,MAAO,CACH7E,KAAM,6BAGe,SAAC0F,GAC1B,MAAO,CACH1F,KAAM,yBACNG,QAASuF,MAGY,SAACrG,GAC1B,MAAO,CACHW,KAAM,yBACNG,QAASd,KAObwC,EAAYC,UCrTD,SAAS0F,GAA4BC,GAChD,MAAM,GAAN,OAAUA,EAAM,GAAhB,aAAuBA,EAAM,GAA7B,YAAoCA,EAAM,GAAK,IAAMA,EAAM,GAAK,IAAM,I,ICSpEC,G,kLAEE,IAAMX,EAASF,KAAKC,MAAoB,GAAdD,KAAKE,SAAY,GAC3CtH,KAAKN,MAAMsH,kBAAkBM,K,+BAGvB,IAEFY,EAFC,EAC8BlI,KAAKN,MAAMY,kBAAtCE,EADH,EACGA,OAAQZ,EADX,EACWA,MAAOa,EADlB,EACkBA,QASvB,OANIyH,EADAtI,EACU,kBAAM,kBAAC,EAAD,CAAcA,MAAOA,KAC9Ba,EACG,kBAAM,kBAAC,EAAD,OAEN,kBAAM,kBAAC,GAAD,CAAcD,OAAQA,KAElC,oCACJ,iIACA,yBAAKb,UAAU,aACX,yBAAKA,UAAU,kBACX,kBAACuI,EAAD,a,GApBgBhI,IAAMC,WA2BpCgI,GAAe,SAACzI,GAAW,IAAD,EACIA,EAAMc,OAA9BmE,EADoB,EACpBA,GAAIlC,EADgB,EAChBA,KAAMqC,EADU,EACVA,IAAKmB,EADK,EACLA,KACjBmC,EAAWC,OAAOC,KAAKrC,GAC7B,OACI,yBAAKtG,UAAU,kBACX,yBAAKA,UAAU,YACX,yBAAKwE,IAAKW,EAAKnF,UAAU,qBAAqB0E,IAAI,uGAEtD,yBAAK1E,UAAU,YACX,yBAAKA,UAAU,aACX,wBAAIA,UAAU,cAAc8C,GAC3B2F,EAASlF,KAAI,SAAC7B,EAAMkH,GAAP,OACV,uBAAGjF,IAAG,cAASqB,EAAT,eAAkB4D,GAAU5I,UAAU,aACvCoI,GAA4B9B,EAAK5E,QAG1C,kBAAC,IAAD,CAAMkC,GAAE,kBAAaoB,GAAMhF,UAAU,sBAArC,8DAmBLmE,KACX0E,aAboB,SAAC1I,GACrB,MAAO,CACHQ,kBAAmBR,EAAMQ,sBAIN,SAACkE,EAAUiB,GAClC,MAAO,CACHuB,kBAAmBA,EAAkBxC,EAAUiB,MAKnD+C,CAAsDP,KChEpDQ,G,kLAEEzI,KAAKN,MAAMwH,wB,+BAGL,IAIFwB,EASAC,EAbC,SACoC3I,KAAKN,MAAMkB,oBAA5CC,EADH,EACGA,OAAQC,EADX,EACWA,KAAMlB,EADjB,EACiBA,MAAOa,EADxB,EACwBA,QAEvBmI,EAAa/H,EAASA,EAAO8D,GAAK,KAiBxC,OAdI+D,EADA9I,EACc,kBAAM,kBAAC,EAAD,CAAcA,MAAOA,KAClCa,EACO,kBAAM,kBAAC,EAAD,OAEN,kBAAM,kBAAC,GAAD,CAAgBK,KAAMA,EAAMyG,aAAc,EAAK7H,MAAM6H,aAAcqB,WAAYA,KAOnGD,EAHC9H,EAGc,kBAAM,kBAAC,GAAD,CAAaA,OAAQA,KAF3B,kBAAM,kBAAC,EAAD,OAKjB,oCACJ,iIACA,yBAAKlB,UAAU,YACX,yBAAKA,UAAU,OACX,kBAAC+I,EAAD,OAEJ,yBAAK/I,UAAU,OACX,kBAACgJ,EAAD,a,GAhCkBzI,IAAMC,WAuCtC0I,GAAiB,SAACnJ,GACpB,OACIA,EAAMoB,KAAKoC,KAAI,SAAArC,GACX,IAAMsC,EAAUC,IAAW,CACvB,mBAAmB,EACnB,0BAA0B,EAC1BC,OAAQxC,EAAO8D,KAAOjF,EAAMkJ,aAEhC,OAAO,4BACHtF,IAAKzC,EAAO4B,KACZlC,KAAK,SACLZ,UAAWwD,EACX2F,QAASpJ,EAAM6H,aAAa1G,IAC9BA,EAAO4B,UAIfsG,GAAc,SAACrJ,GACjB,OAAQ,oCACJ,yBAAKyE,IAAKzE,EAAMmB,OAAOiE,IAAKnF,UAAU,eAAe0E,IAAK3E,EAAMmB,OAAO4B,OACvE,kBAAC,IAAD,CAAMc,GAAE,kBAAa7D,EAAMmB,OAAO8D,IAAMhF,UAAU,sBAAlD,6GAiBOmE,KACX0E,aAdoB,SAAC1I,GACrB,MAAO,CACHc,oBAAqBd,EAAMc,wBAIR,SAAC4D,EAAUiB,GAClC,MAAO,CACHyB,oBAAqBA,EAAoB1C,EAAUiB,GACnD8B,aAAcA,EAAa/C,EAAUiB,MAKzC+C,CAAsDC,KC3E3CO,GAPE,WACb,OAAQ,oCACJ,kBAAC,GAAD,MACA,kBAAC,GAAD,Q,SCsCOC,GA1CI,SAACvJ,GAAW,IAAD,EACUA,EAAMuB,MAAlCiI,EADkB,EAClBA,YAAaC,EADK,EACLA,WACbC,EAAkB1J,EAAlB0J,cACFC,EAAY,aAAO,IAAIC,MAAMlC,KAAKmC,KAAKJ,EAAW,MAElDK,EAAYpG,IAAW,CACzB,aAAa,EACbqG,SAA0B,IAAhBP,IAERQ,EAAYtG,IAAW,CACzB,aAAa,EACbqG,SAAUP,IAAgBG,EAAaM,SAG3C,OACI,6BACI,wBAAIhK,UAAU,cACV,wBAAIA,UAAW6J,GACX,4BAAQV,QAASM,EAAcF,EAAa,GAAIvJ,UAAU,aAA1D,iEAGH0J,EAAanG,KAAI,SAAC0G,EAAGrB,GAClB,IAAMsB,EAAatB,EAAS,EACtBpF,EAAUC,IAAW,CACvB,aAAa,EACbC,OAAQwG,IAAeX,IAE3B,OACI,wBAAI5F,IAAG,cAASuG,GAAclK,UAAWwD,GACrC,4BAAQ2F,QAASM,EAAcS,GAAalK,UAAU,aAAakK,OAK/E,wBAAIlK,UAAW+J,GACX,4BAAQZ,QAASM,EAAcF,EAAc,GAAIvJ,UAAU,aAA3D,8DChCCmK,G,4MAejBC,WAAa,SAAChE,GAAD,OAAU,WACnB,EAAKrG,MAAMsK,UAAUjE,GACrB,EAAKrG,MAAMuK,QAAQC,KAAK,WAAI,EAAKxK,MAAMa,KAAf,SAA6BwF,EAAI,WAAOA,GAAS,O,kEAfzE,IAAMoE,EAAyBnK,KAAKN,MAAM0K,MAAMC,OAAOtE,KACvD/F,KAAKN,MAAMsK,UAAUG,K,yCAGNG,GACf,IAAMC,EAAcD,EAAU1H,SAASD,SACjC6H,EAAcxK,KAAKN,MAAMkD,SAASD,SAClC8H,EAAa,SAASxH,KAAKjD,KAAKN,MAAMkD,SAASD,UACjD4H,IAAgBC,GAAeC,GACjCzK,KAAK+J,YAAL/J,K,+BASI,IAIFkI,EAJC,SACmBlI,KAAKN,MAArBI,EADH,EACGA,MAAOS,EADV,EACUA,KACPO,EAAgChB,EAAhCgB,KAAMG,EAA0BnB,EAA1BmB,MAAOR,EAAmBX,EAAnBW,QAASb,EAAUE,EAAVF,MAkB9B,OAdIsI,EADAtI,EACU,kBAAM,kBAAC,EAAD,CAAcA,MAAOA,KAC9Ba,EACG,kBAAM,kBAAC,EAAD,OAEN,kBAAO,oCACb,yBAAKd,UAAU,oDACVmB,EAAKoC,KAAI,SAAA7B,GAAI,OAAI,kBAAC,GAAD,CAAUiC,IAAG,cAASjC,EAAKsD,IAAMtD,KAAMA,EAAMd,KAAMA,QAEzE,yBAAKZ,UAAU,oDACX,kBAAC,GAAD,CAAYsB,MAAOA,EAAOmI,cAAe,EAAKW,gBAKnD,kBAAC7B,EAAD,U,GAxCuBhI,IAAMC,WA4CtCuK,GAAW,SAAChL,GAAW,IACjB2B,EAAe3B,EAAf2B,KAAMd,EAASb,EAATa,KACd,OAAO,yBAAKZ,UAAU,YAAYgL,MAAO,CAACC,MAAO,UAC7C,yBAAKzG,IAAK9C,EAAKyD,IAAKnF,UAAU,eAAe0E,IAAKhD,EAAKoB,OACvD,yBAAK9C,UAAU,aACX,wBAAIA,UAAU,cAAc0B,EAAKoB,MACjC,kBAAC,IAAD,CAAMc,GAAE,WAAMhD,EAAN,YAAcc,EAAKsD,IAAMhF,UAAU,gBAA3C,6DCjCR6D,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAMkB,oBAIM,SAACwD,EAAUiB,GAClC,MAAO,CACHuE,UAAWvC,EAAgBjD,EAAUiB,MAOjC+C,EAjBO,SAAC9I,GAAD,OAAW,kBAAC,GAAD,iBAAcA,EAAd,CAAqBa,KAAM6B,EAAYvB,eCwBtDgK,GA5BM,SAAC,GAClB,OADoC,EAAhBjF,UACH1C,KAAI,SAACqD,EAAUxD,GAAW,IAE/BN,EAAqB8D,EAArB9D,KAAMwD,EAAeM,EAAfN,KAAM1F,EAASgG,EAAThG,KAEpB,OAAIgG,EAAS9F,QACF,yBAAK6C,IAAG,kBAAab,GAAb,OAAoBM,EAApB,aAAsCpD,UAAU,QAC3D,wBAAIA,UAAU,cAAc8C,GAC5B,kBAAC,EAAD,OAGD,yBAAKa,IAAG,uBAAkB/C,GAAlB,OAAyBwC,GAASpD,UAAU,QACvD,wBAAIA,UAAU,cAAc8C,GAC5B,yBAAK9C,UAAU,oDACVsG,EAAK/C,KAAI,SAAC7B,EAAMkH,GAAP,OACN,yBAAKjF,IAAG,kBAAa/C,GAAb,OAAoBgI,GAAU5I,UAAU,YAAYgL,MAAO,CAACC,MAAO,UACvE,yBAAKzG,IAAK9C,EAAKyD,IAAKnF,UAAU,eAAe0E,IAAKhD,EAAKoB,OACvD,yBAAK9C,UAAU,uBACX,uBAAGA,UAAU,kBAAkB0B,EAAKoB,MACpC,kBAAC,IAAD,CAAMc,GAAE,WAAMhD,EAAN,YAAcc,EAAKsD,IAAMhF,UAAU,0BAA3C,qECjBPmL,G,kLAEb,IAAMnG,EAAK3E,KAAKN,MAAM0K,MAAMC,OAAO1F,GACnC3E,KAAKN,MAAMqL,UAAUpG,K,+BAGf,IAIFuD,EAHIpI,EAAUE,KAAKN,MAAfI,MACAuB,EAAyBvB,EAAzBuB,KAAMZ,EAAmBX,EAAnBW,QAASb,EAAUE,EAAVF,MAWvB,OAPIsI,EADAtI,EACU,kBAAM,kBAAC,EAAD,CAAcA,MAAOA,KAC9Ba,EACG,kBAAM,kBAAC,EAAD,OAEN,kBAAM,kBAAC,GAAD,CAAUY,KAAMA,KAG7B,kBAAC6G,EAAD,U,GAnBuBhI,IAAMC,WAuBtCuK,GAAW,SAAChL,GAAW,IAIrBsL,EAJoB,EACmBtL,EAAM2B,KAAzCsD,EADgB,EAChBA,GAAIlC,EADY,EACZA,KAAMqC,EADM,EACNA,IAAKmB,EADC,EACDA,KAAML,EADL,EACKA,UACvBwC,EAAWC,OAAOC,KAAKrC,GAS7B,OALI+E,EADApF,EACmB,kBAAM,kBAAC,GAAD,CAAcA,UAAWA,KAE/B,kBAAM,MAIzB,yBAAKjG,UAAU,aACX,yBAAKwE,IAAKW,EAAKnF,UAAU,eAAe0E,IAAK5B,IAC7C,yBAAK9C,UAAU,aACX,wBAAIA,UAAU,cAAc8C,GAC3B2F,EAASlF,KAAI,SAAC7B,EAAMkH,GAAP,OACV,uBAAGjF,IAAG,cAASqB,EAAT,eAAkB4D,GAAU5I,UAAU,aACvCoI,GAA4B9B,EAAK5E,QAG1C,kBAAC2J,EAAD,SC5BZxH,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAMsB,gBAIM,SAACoD,EAAUiB,GAClC,MAAO,CACHsF,UAAWrD,EAAYlD,EAAUiB,MAO7B+C,EAjBO,SAAC9I,GAAD,OAAW,kBAAC,GAAaA,QCgBxC8D,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAMyB,oBAIM,SAACiD,EAAUiB,GAClC,MAAO,CACHuE,UAAWrC,EAAgBnD,EAAUiB,MAOjC+C,EAjBO,SAAC9I,GAAD,OAAW,kBAAC,GAAD,iBAAcA,EAAd,CAAqBa,KAAM6B,EAAY5B,eCEtDgD,gBAPM,SAAC,GAAiB,IAAfyG,EAAc,EAAdA,QACpB,OAAQ,yBAAKtK,UAAU,oBACnB,6KACA,qJAA2B,4BAAQA,UAAU,eAAemJ,QAAS,kBAAMmB,EAAQgB,WAAxD,sHCgB/BzH,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAM0B,gBAIM,SAACgD,EAAUiB,GAClC,MAAO,CACHsF,UAAWnD,GAAYpD,EAAUiB,MAO7B+C,EAjBO,SAAC9I,GAAD,OAAW,kBAAC,GAAaA,QCgBxC8D,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAM4B,sBAIM,SAAC8C,EAAUiB,GAClC,MAAO,CACHuE,UAAWnC,GAAkBrD,EAAUiB,MAOnC+C,EAjBS,SAAC9I,GAAD,OAAW,kBAAC,GAAD,iBAAcA,EAAd,CAAqBa,KAAM6B,EAAYC,iBCcnEmB,eACIM,EACI0E,aAfY,SAAC1I,GACrB,MAAO,CACHA,MAAOA,EAAM8B,kBAIM,SAAC4C,EAAUiB,GAClC,MAAO,CACHsF,UAAWjD,GAActD,EAAUiB,MAO/B+C,EAjBS,SAAC9I,GAAD,OAAW,kBAAC,GAAaA,QC4B/BwL,GAtBH,WACR,OACI,yBAAKvL,UAAU,kBACX,kBAAC,EAAD,KACI,kBAAC,EAAD,OAEJ,kBAAC,EAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOwL,KAAK,IAAIC,OAAK,EAACC,UAAWrC,KACjC,kBAAC,IAAD,CAAOmC,KAAK,qBAAqBE,UAAWC,KAC5C,kBAAC,IAAD,CAAOH,KAAK,cAAcE,UAAWE,KACrC,kBAAC,IAAD,CAAOJ,KAAK,qBAAqBE,UAAWG,KAC5C,kBAAC,IAAD,CAAOL,KAAK,cAAcE,UAAWI,KACrC,kBAAC,IAAD,CAAON,KAAK,uBAAuBE,UAAWK,KAC9C,kBAAC,IAAD,CAAOP,KAAK,gBAAgBE,UAAWM,KACvC,kBAAC,IAAD,CAAON,UAAWO,S,6BC5BvB,SAASC,GAAMC,GAG1B,OADWA,EAAO1B,MADD,qBACiB,GCEtC,SAAS2B,GAAiBC,GACtB,MAAgB,YAATA,EAAqB,+DAAeA,EAGxC,SAASC,GAAgBhG,EAAMiG,GAClC,IACMnF,EAAc,CAChBpC,GAFOkH,GAAM5F,EAAKkG,KAGlB1J,KAAMwD,EAAKxD,KACXqC,IAAKV,IACL6B,KAAM,CACFmG,WAAY,CAAC,yDAAanG,EAAKmG,YAC/BC,SAAU,CAAC,wFAAmBpG,EAAKqG,gBAAiB,+CACpDC,SAAU,CAAC,6CAAWtG,EAAKsG,SAAU,yEAI7C,OAAIL,GAIAjG,EAAKuG,UAAU7C,OAAS,IACxB5C,EAAYnB,UAAY,CAAC,CACrBnD,KAAM,yDACNhC,SAAS,EACTF,KAAM6B,EAAYvB,OAClBoF,KAAMA,EAAKuG,UAAUtJ,KAAI,SAAA7B,GAAI,OAAIwK,GAAMxK,SARpC0F,EAeR,SAAS0F,GAAgBxG,EAAMiG,GAClC,IAGIQ,EAHE/H,EAAKkH,GAAM5F,EAAKkG,KAChBQ,EAAQZ,GAAiB9F,EAAK2G,YAC9BC,EAAOd,GAAiB9F,EAAK4G,MAEnC,OAAQ5G,EAAKyG,QACT,IAAK,SACDA,EAAS,6CACT,MACJ,IAAK,OACDA,EAAS,6CACT,MACJ,QACIA,EAAS,+DAGjB,IAAM3F,EAAc,CAChBpC,KACAlC,KAAMwD,EAAKxD,KACXqC,IAAKV,IACL6B,KAAM,CACF6G,OAAQ,CAAC,2BAAQ7G,EAAK6G,OAAQ,6EAC9BJ,OAAQ,CAAC,qBAAOA,GAChBC,MAAO,CAAC,4EAAiBA,GACzBE,KAAM,CAAC,qBAAOA,EAAM,8EAExBjH,UAAW,IAGf,OAAIsG,IAIAjG,EAAK8G,UAAUpD,OAAS,GACxB5C,EAAYnB,UAAUsE,KAAK,CACvBzH,KAAM,iCACNhC,SAAS,EACTF,KAAM6B,EAAYC,SAClB4D,KAAMA,EAAK8G,UAAU7J,KAAI,SAAA7B,GAAI,OAAIwK,GAAMxK,QAG3C4E,EAAK+G,UAAUrD,OAAS,GACxB5C,EAAYnB,UAAUsE,KAAK,CACvBzH,KAAM,kFACNhC,SAAS,EACTF,KAAM6B,EAAY5B,OAClByF,KAAM,CAAE4F,GAAM5F,EAAK+G,eAhBhBjG,EAsBR,SAASkG,GAAkBhH,EAAMiG,GACpC,IAAMvH,EAAKkH,GAAM5F,EAAKkG,KAChBe,EAAOnB,GAAiB9F,EAAKkH,iBAC7BpG,EAAe,CACjBpC,KACAlC,KAAMwD,EAAKxD,KACXqC,IAAKV,IACL6B,KAAM,CACFiH,KAAM,CAAC,oDAAaA,EAAM,2DAC1BE,aAAc,CAAC,iFAAiBnH,EAAKmH,cACrCC,KAAM,CAAC,uCAAUpH,EAAKoH,MACtB1D,OAAQ,CAAC,uCAAU1D,EAAK0D,OAAQ,+CAChC2D,WAAY,CAAC,kIAA0BrH,EAAKqH,cAIpD,OAAIpB,GAIAjG,EAAKsH,OAAO5D,OAAS,IACrB5C,EAAYnB,UAAY,CAAC,CACrBnD,KAAM,uCACNhC,SAAS,EACTF,KAAM6B,EAAYvB,OAClBoF,KAAMA,EAAKsH,OAAOrK,KAAI,SAAA7B,GAAI,OAAIwK,GAAMxK,SARjC0F,EAcR,SAASyG,GAAwBvH,EAAMF,GAE1C,MAAO,CACH9E,MAAO,CACHiI,aAHanD,GAAQ,EAIrBoD,WAAYlD,EAAKwH,OAErBvM,QAAS+E,EAAK/E,S,ICnHhB+C,GAAe,I,WCJjB,WAAYyJ,EAAYC,GAAY,IAAD,gCAoCnCC,UAAY,SAACjJ,EAAIuH,GACb,OAAO,EAAK2B,aAAL,UAAqB,EAAKC,YAA1B,mBAAgDnJ,IAClDC,MAAK,SAAAvD,GAAI,OAAIoL,GAAgBpL,EAAM6K,OAtCT,KAwCnC6B,cAAgB,SAAChI,GACb,OAAO,EAAK8H,aAAa,UAAG,EAAKC,YAAR,aAAiC/H,EAAI,gBAAYA,GAAZ,KACzDnB,MAAK,SAAAqB,GAGF,OAFAA,EAAK/E,QAAU+E,EAAK/E,QAAQgC,KAAI,SAAA7B,GAAI,OAAIoL,GAAgBpL,MACxD4E,EAAOuH,GAAwBvH,EAAMF,OA5Cd,KAoDnCyB,eAAiB,SAAC7C,GACd,OAAO,EAAKqJ,UAAL,UAAkB,EAAKC,WAAvB,uBAAgDtJ,EAAhD,UArDwB,KAwDnCuJ,UAAY,SAACvJ,EAAIuH,GACb,OAAO,EAAK2B,aAAL,UAAqB,EAAKC,YAA1B,oBAAiDnJ,IACnDC,MAAK,SAAAvD,GAAI,OAAI4K,GAAgB5K,EAAM6K,OA1DT,KA4DnCiC,cAAgB,SAACpI,GACb,OAAO,EAAK8H,aAAa,UAAG,EAAKC,YAAR,cAAkC/H,EAAI,gBAAYA,GAAZ,KAC1DnB,MAAK,SAAAqB,GAGF,OAFAA,EAAK/E,QAAU+E,EAAK/E,QAAQgC,KAAI,SAAA7B,GAAI,OAAI4K,GAAgB5K,MACxD4E,EAAOuH,GAAwBvH,EAAMF,OAhEd,KAoEnCqI,eAAiB,SAACzJ,GACd,OAAO,EAAKqJ,UAAL,UAAkB,EAAKC,WAAvB,oBAA6CtJ,EAA7C,UArEwB,KAwEnC0J,YAAc,SAAC1J,EAAIuH,GACf,OAAO,EAAK2B,aAAL,UAAqB,EAAKC,YAA1B,sBAAmDnJ,IACrDC,MAAK,SAAAvD,GAAI,OAAI4L,GAAkB5L,EAAM6K,OA1EX,KA4EnCoC,eAAiB,SAACvI,GACd,OAAO,EAAK8H,aAAa,UAAG,EAAKC,YAAR,gBAAoC/H,EAAI,gBAAYA,GAAZ,KAC5DnB,MAAK,SAAAqB,GAGF,OAFAA,EAAK/E,QAAU+E,EAAK/E,QAAQgC,KAAI,SAAA7B,GAAI,OAAI4L,GAAkB5L,MAC1D4E,EAAOuH,GAAwBvH,EAAMF,OAhFd,KAoFnCwI,iBAAmB,SAAC5J,GAChB,OAAO,EAAKqJ,UAAL,UAAkB,EAAKC,WAAvB,sBAA+CtJ,EAA/C,UApFP3E,KAAK8N,YAAcJ,EACnB1N,KAAKiO,WAAaN,EAClB3N,KAAKQ,OAAS,CACVmF,eAAgB3F,KAAKoO,eACrB1I,cAAe1F,KAAKkO,UACpBlI,cAAehG,KAAKmO,eAExBnO,KAAKa,OAAS,CACV8E,eAAgB3F,KAAKwH,eACrB9B,cAAe1F,KAAK4N,UACpB5H,cAAehG,KAAK+N,eAExB/N,KAAKqC,SAAW,CACZsD,eAAgB3F,KAAKuO,iBACrB7I,cAAe1F,KAAKqO,YACpBrI,cAAehG,KAAKsO,gB,oGAIRnC,G,wFACEqC,MAAMrC,G,WAAlBsC,E,QACGC,G,sBACC,IAAIC,MAAOF,EAAIG,Q,uBAEZH,EAAII,O,qNAGJ1C,G,wFACKqC,MAAMrC,G,WAAlBsC,E,QACGC,G,sBACC,IAAIC,MAAOF,EAAIG,Q,uBAEZH,EAAI5J,O,oLAgBjB,OAAO7E,KAAK6N,aAAL,UAAqB7N,KAAK8N,YAA1B,aACFlJ,MAAK,SAAAqB,GAAI,OAAIA,EAAK/E,QAAQgC,KAAI,SAAA7B,GAAI,OAAIoL,GAAgBpL,a,KD9C9C,CEZF,wBACD,+CFalByN,IAASC,OACP,kBAAC,IAAD,CAAe7M,MAAOA,GACpB,kBAAC,EAAD,KACE,kBAACwB,EAAD,CAAsBM,MAAOC,IAC3B,kBAAC,IAAD,CAAQ+K,SAAS,aACf,kBAAC,GAAD,UAKRC,SAASC,eAAe,W","file":"static/js/main.2117ba6e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading-icon.f4404720.gif\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\n\r\nconst ErrorElement = (props) => {\r\n    return (\r\n        <div className=\"text-center my-4 w-100\">\r\n            {`Ошибка: ${props.error}`}\r\n        </div>\r\n    );\r\n}\r\nexport default ErrorElement;","import React from 'react';\r\nimport ErrorElement from '../ErrorElement/ErrorElement'\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = { hasError: false };\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: error };\r\n    }\r\n\r\n    render() {\r\n        return this.state.hasError ? \r\n        <ErrorElement error={this.state.hasError} /> :\r\n        this.props.children;\r\n    }\r\n}\r\n","export default function updateRandomPlanetState(state, action) {\r\n    const { randomPlanetState } = state\r\n    switch(action.type) {\r\n        case 'FETCH_RANDOM_PLANET_REQUEST':\r\n            return {\r\n                planet: {},\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_RANDOM_PLANET_SUCCESS':\r\n            return {\r\n                planet: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_RANDOM_PLANET_FAILURE':\r\n            return {\r\n                planet: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: return randomPlanetState;\r\n    }\r\n}","export default function updatePersonMiniListState(state, action) {\r\n    const { personMiniListState } = state\r\n    switch(action.type) {\r\n        case 'FETCH_PERSON_MINI_LIST_REQUEST':\r\n            return {\r\n                person: null,\r\n                list:[],\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_MINI_LIST_SUCCESS':\r\n            return {\r\n                person: null,\r\n                list: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_MINI_LIST_FAILURE':\r\n            return {\r\n                person: null,\r\n                list:[],\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        case 'SELECT_PERSON_FROM_MINI_LIST':\r\n            return {\r\n                person: action.payload,\r\n                list: personMiniListState.list,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        default: return personMiniListState;\r\n    }\r\n}","export default function updatePersonListState(state, action) {\r\n    const { personListState } = state\r\n    switch(action.type) {\r\n        case 'FETCH_PERSON_LIST_REQUEST':\r\n            return {\r\n                pages: {},\r\n                list:[],\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_LIST_SUCCESS':\r\n            return {\r\n                pages: action.payload.pages,\r\n                list: action.payload.results,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_LIST_FAILURE':\r\n            return {\r\n                pages: {},\r\n                list: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: return personListState;\r\n    }\r\n}","export default function updatePersonState(state, action) {\r\n    const { personState } = state;\r\n    switch(action.type) {\r\n        case 'FETCH_PERSON_REQUEST':\r\n            return {\r\n                item: {},\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_SUCCESS':\r\n            return {\r\n                item: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PERSON_FAILURE':\r\n            return {\r\n                item: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: \r\n            return personState;\r\n    }\r\n}","export default function updatePlanetListState(state, action) {\r\n    const { planetListState } = state;\r\n    switch(action.type) {\r\n        case 'FETCH_PLANET_LIST_REQUEST':\r\n            return {\r\n                pages: {},\r\n                list:[],\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PLANET_LIST_SUCCESS':\r\n            return {\r\n                pages: action.payload.pages,\r\n                list: action.payload.results,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PLANET_LIST_FAILURE':\r\n            return {\r\n                pages: {},\r\n                list: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: return planetListState;\r\n    }\r\n}","export default function updatePersonState(state, action) {\r\n    const { planetState } = state;\r\n    switch(action.type) {\r\n        case 'FETCH_PLANET_REQUEST':\r\n            return {\r\n                item: {},\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PLANET_SUCCESS':\r\n            return {\r\n                item: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_PLANET_FAILURE':\r\n            return {\r\n                item: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: \r\n            return planetState;\r\n    }\r\n}","export default function updateStarshipListState(state, action) {\r\n    const { starshipListState } = state;\r\n    switch(action.type) {\r\n        case 'FETCH_STARSHIP_LIST_REQUEST':\r\n            return {\r\n                pages: {},\r\n                list:[],\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_STARSHIP_LIST_SUCCESS':\r\n            return {\r\n                pages: action.payload.pages,\r\n                list: action.payload.results,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_STARSHIP_LIST_FAILURE':\r\n            return {\r\n                pages: {},\r\n                list: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: return starshipListState;\r\n    }\r\n}","export default function updateStarshipState(state, action) {\r\n    const { starshipState } = state;\r\n    switch(action.type) {\r\n        case 'FETCH_STARSHIP_REQUEST':\r\n            return {\r\n                item: {},\r\n                loading: true,\r\n                error: null,\r\n            };\r\n        case 'FETCH_STARSHIP_SUCCESS':\r\n            return {\r\n                item: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            };\r\n        case 'FETCH_STARSHIP_FAILURE':\r\n            return {\r\n                item: {},\r\n                loading: false,\r\n                error: action.payload,\r\n            };\r\n        default: \r\n            return starshipState;\r\n    }\r\n}","import updateRandomPlanetState from './updateRandomPlanetState';\r\nimport updatePersonMiniListState from './updatePersonMiniListState';\r\nimport updatePersonListState from './updatePersonListState';\r\nimport updatePersonState from './updatePersonState';\r\nimport updatePlanetListState from './updatePlanetListState';\r\nimport updatePlanetState from './updatePlanetState';\r\nimport updateStarshipListState from './updateStarshipListState';\r\nimport updateStarshipState from './updateStarshipState';\r\n\r\nconst initialState = {\r\n    randomPlanetState: {\r\n        planet: {},\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    personMiniListState: {\r\n        person: null,\r\n        list:[],\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    personState: {\r\n        item: {},\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    personListState: {\r\n        pages: {},\r\n        list: [],\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    planetState: {\r\n        item: {},\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    planetListState: {\r\n        pages: {},\r\n        list: [],\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    starshipState: {\r\n        item: {},\r\n        loading: true,\r\n        error: null,\r\n    },\r\n    starshipListState: {\r\n        pages: {},\r\n        list: [],\r\n        loading: true,\r\n        error: null,\r\n    },\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    console.log(action.type);\r\n    return {\r\n        ...state,\r\n        randomPlanetState: updateRandomPlanetState(state, action),\r\n        personMiniListState: updatePersonMiniListState(state, action),\r\n        personState: updatePersonState(state, action),\r\n        personListState: updatePersonListState(state, action),\r\n        planetState: updatePlanetState(state, action),\r\n        planetListState: updatePlanetListState(state, action),\r\n        starshipListState: updateStarshipListState(state, action),\r\n        starshipState: updateStarshipState(state, action),\r\n    };\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducers/reducer'\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","const entityTypes = {\r\n    person: 'person',\r\n    planet: 'planet',\r\n    starship: 'starship',\r\n}\r\n\r\nexport default entityTypes;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport entityTypes from '../../constants/entityTypes';\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.currentMenuIndex = 0;\r\n        this.menuItems = [\r\n            { \r\n                name: 'Главная',\r\n                link: '/',\r\n                type: 'main',\r\n            },\r\n            { \r\n                name: 'Персонажи',\r\n                link: `/${entityTypes.person}/all`,\r\n                type: entityTypes.person,\r\n            },\r\n            { \r\n                name: 'Планеты',\r\n                link: `/${entityTypes.planet}/all`,\r\n                type: entityTypes.planet,\r\n            },\r\n            { \r\n                name: 'Корабли',\r\n                link: `/starship/all`,\r\n                type: entityTypes.starship,\r\n            },\r\n        ];\r\n    }\r\n\r\n    componentDidUpdate() {\r\n\r\n    }\r\n\r\n    render() {\r\n        const { pathname } = this.props.location;\r\n        let newMenuIndex = null;\r\n        this.menuItems.forEach((item, index) => {\r\n            const regexp = new RegExp(`^/${item.type}`);\r\n            if(regexp.test(pathname)) {\r\n                newMenuIndex = index;\r\n            }\r\n        });\r\n        this.currentMenuIndex = newMenuIndex || 0;\r\n\r\n        return (\r\n            <header>\r\n                <h1>StarDB</h1>\r\n                <p>База данных по вселенной Звёздный Войн</p>\r\n                <ul className=\"nav nav-tabs mb-3\">\r\n                    {this.menuItems.map((item, index) => {\r\n                        const classes = classnames({ 'nav-link': true, active: this.currentMenuIndex === index });\r\n                        return (\r\n                            <li key={`menuItem${index}`} className=\"nav-item\">\r\n                                <Link to={item.link} className={classes}>{item.name}</Link>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connectWithcRouter(Header);\r\n","import React from 'react';\r\n\r\nconst { \r\n    Provider: SwapiServiceProvider,\r\n    Consumer: SwapiServiceConsumer,\r\n} = React.createContext();\r\n\r\nexport {\r\n    SwapiServiceProvider,\r\n    SwapiServiceConsumer\r\n};","import React from 'react';\r\nimport { SwapiServiceConsumer } from '../swapiContext/swapiContext';\r\n\r\nexport default function connectWithSwapiService(Wrapped) {\r\n    return (props) => {\r\n        return (\r\n            <SwapiServiceConsumer>\r\n                {\r\n                    (value) => {\r\n                        return <Wrapped {...props} swapiService={value} />\r\n                    }\r\n                }\r\n            </SwapiServiceConsumer>\r\n        );\r\n    }\r\n};","import React from 'react';\r\nimport loadingIcon from '../../images/loading-icon.gif';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"text-center my-4 w-100\">\r\n            <img src={loadingIcon} alt=\"Загрузка...\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import noPhotoImg from '../images/no-photo.png';\r\nimport entityTypes from '../constants/entityTypes';\r\n\r\nconst fetchImage = (item, service, dispatch, action) => {\r\n    let newDispatch;\r\n    if (dispatch) {\r\n        newDispatch = (newItem) => {\r\n            dispatch(action(newItem))\r\n            return newItem;\r\n        };\r\n    } else {\r\n        // если нет dispatch на входе, то возвращаем просто item,\r\n        // т.к. диспетчить его будут дальше\r\n        newDispatch = (newItem) => newItem;\r\n    }\r\n\r\n    return service(item.id)\r\n        .then((blob) => {\r\n            const img = URL.createObjectURL(blob);\r\n            const newItem = {\r\n                ...item,\r\n                img, \r\n            };\r\n            return newDispatch(newItem);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            const newItem = {\r\n                ...item,\r\n                img: noPhotoImg, \r\n            };\r\n            return newDispatch(newItem);\r\n        });\r\n}\r\n\r\nconst fetchSingleItem = (fetchRequestAction, fetchSuccessAction, fetchErrorAction, entityType) => (dispatch, ownProps) => (id) => {\r\n    const { getItemMethod, getImageMethod } = ownProps.swapiService[entityType];\r\n    dispatch(fetchRequestAction());\r\n    getItemMethod(id)\r\n        .then(item => {\r\n            dispatch(fetchSuccessAction(item));\r\n            return fetchImage(item, getImageMethod, dispatch, fetchSuccessAction);\r\n        })\r\n        .then(item => {\r\n            if (item.relations) {\r\n                fetchAllRelations(item, ownProps.swapiService, dispatch, fetchSuccessAction)\r\n            }\r\n        })\r\n        .catch(err => dispatch(fetchErrorAction(err)));\r\n}\r\n\r\nconst fetchListItems = (fetchRequestAction, fetchSuccessAction, fetchErrorAction, entityType) => (dispatch, ownProps) => (page) => {\r\n    const { getImageMethod, getListMethod } = ownProps.swapiService[entityType];\r\n    dispatch(fetchRequestAction());\r\n    getListMethod(page)\r\n            .then(data => {\r\n                dispatch(fetchSuccessAction(data))\r\n                const updatedListPromiseArray = data.results.map(item => \r\n                    fetchImage(item, getImageMethod)\r\n                );\r\n                Promise.all(updatedListPromiseArray).then(newList => {\r\n                    data.results = newList;\r\n                    dispatch(fetchSuccessAction(data));\r\n                });\r\n            })    \r\n            .catch(err => dispatch(fetchErrorAction(err)));\r\n}\r\n\r\nconst fetchRelation = (relations, service) => {\r\n    const { getItemMethod, getImageMethod } = service[relations.type];\r\n    const newRelationsPromiseArray = relations.data.map(relationId => {\r\n        return getItemMethod(relationId, true);\r\n    });\r\n    return Promise.all(newRelationsPromiseArray)\r\n        .then(newRelations => newRelations.map(relation => fetchImage(relation, getImageMethod)))\r\n        .then(newRelationsWithImgPromiseArray => Promise.all(newRelationsWithImgPromiseArray))\r\n        .then(itemList => {\r\n            const newRelations = {\r\n                ...relations,\r\n                loading: false,\r\n                data: itemList,\r\n            }\r\n           return newRelations;\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            return undefined;\r\n        });   \r\n}\r\n\r\nconst fetchAllRelations = (item, service, dispatch, fetchSuccessAction) => {\r\n    const updatedRelationsPromiseArray = item.relations.map(relation => fetchRelation(relation, service));\r\n    Promise.all(updatedRelationsPromiseArray)\r\n        .then(updatedRelations => {\r\n            const updatedItem = {\r\n                ...item,\r\n                relations: updatedRelations,\r\n            };\r\n            dispatch(fetchSuccessAction(updatedItem));\r\n        });\r\n}\r\n\r\nconst fetchRandomPlanetRequest = () => {\r\n    return {\r\n        type: \"FETCH_RANDOM_PLANET_REQUEST\",\r\n    }\r\n};\r\nconst fetchRandomPlanetSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_RANDOM_PLANET_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchRandomPlanetFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_RANDOM_PLANET_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchRandomPlanet = fetchSingleItem(\r\n    fetchRandomPlanetRequest,\r\n    fetchRandomPlanetSuccess,\r\n    fetchRandomPlanetFailure,\r\n    entityTypes.planet,\r\n);\r\n\r\nconst fetchPersonMiniListRequest = () => {\r\n    return {\r\n        type: \"FETCH_PERSON_MINI_LIST_REQUEST\",\r\n    }\r\n};\r\nconst fetchPersonMiniListSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_PERSON_MINI_LIST_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPersonMiniListFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_PERSON_MINI_LIST_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst selectPersonFromList = (data) => {\r\n    return {\r\n        type: \"SELECT_PERSON_FROM_MINI_LIST\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPersonMiniList = (dispatch, ownProps) => () => {\r\n    const { swapiService } = ownProps;\r\n    dispatch(fetchPersonMiniListRequest());\r\n        swapiService.getAllPersonsMini()\r\n            .then(list => {\r\n                dispatch(fetchPersonMiniListSuccess(list));\r\n                const person = list[Math.floor(Math.random()*10)];\r\n                selectPerson(dispatch, ownProps)(person)();\r\n            })\r\n            .catch(err => dispatch(fetchPersonMiniListFailure(err)));\r\n}\r\n\r\nconst selectPerson = (dispatch, ownProps) => (person) => () => {\r\n    const { swapiService } = ownProps;\r\n    dispatch(selectPersonFromList(person));\r\n    fetchImage(person, swapiService.getPersonPhoto, dispatch, selectPersonFromList);\r\n}\r\n\r\nconst fetchPersonListRequest = () => {\r\n    return {\r\n        type: \"FETCH_PERSON_LIST_REQUEST\",\r\n    }\r\n};\r\nconst fetchPersonListSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_PERSON_LIST_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPersonListFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_PERSON_LIST_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\n\r\nconst fetchPersonList = fetchListItems(\r\n    fetchPersonListRequest,\r\n    fetchPersonListSuccess,\r\n    fetchPersonListFailure,\r\n    entityTypes.person\r\n);\r\n\r\nconst fetchPersonRequest = () => {\r\n    return {\r\n        type: \"FETCH_PERSON_REQUEST\",\r\n    }\r\n};\r\nconst fetchPersonSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_PERSON_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPersonFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_PERSON_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchPerson = fetchSingleItem(\r\n    fetchPersonRequest,\r\n    fetchPersonSuccess,\r\n    fetchPersonFailure,\r\n    entityTypes.person,\r\n);\r\n\r\nconst fetchPlanetListRequest = () => {\r\n    return {\r\n        type: \"FETCH_PLANET_LIST_REQUEST\",\r\n    }\r\n};\r\nconst fetchPlanetListSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_PLANET_LIST_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPlanetListFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_PLANET_LIST_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchPlanetList = fetchListItems(\r\n    fetchPlanetListRequest,\r\n    fetchPlanetListSuccess,\r\n    fetchPlanetListFailure,\r\n    entityTypes.planet\r\n);\r\n\r\nconst fetchPlanetRequest = () => {\r\n    return {\r\n        type: \"FETCH_PLANET_REQUEST\",\r\n    }\r\n};\r\nconst fetchPlanetSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_PLANET_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchPlanetFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_PLANET_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchPlanet = fetchSingleItem(\r\n    fetchPlanetRequest,\r\n    fetchPlanetSuccess,\r\n    fetchPlanetFailure,\r\n    entityTypes.planet,\r\n);\r\n\r\nconst fetchStarshipListRequest = () => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_LIST_REQUEST\",\r\n    }\r\n};\r\nconst fetchStarshipListSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_LIST_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchStarshipListFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_LIST_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchStarshipList = fetchListItems(\r\n    fetchStarshipListRequest,\r\n    fetchStarshipListSuccess,\r\n    fetchStarshipListFailure,\r\n    entityTypes.starship\r\n);\r\n\r\nconst fetchStarshipRequest = () => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_REQUEST\",\r\n    }\r\n};\r\nconst fetchStarshipSuccess = (data) => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_SUCCESS\",\r\n        payload: data,\r\n    }\r\n};\r\nconst fetchStarshipFailure = (error) => {\r\n    return {\r\n        type: \"FETCH_STARSHIP_FAILURE\",\r\n        payload: error,\r\n    }\r\n};\r\nconst fetchStarship = fetchSingleItem(\r\n    fetchStarshipRequest,\r\n    fetchStarshipSuccess,\r\n    fetchStarshipFailure,\r\n    entityTypes.starship,\r\n);\r\n\r\nexport { \r\n    fetchRandomPlanet,\r\n    fetchPersonMiniList,\r\n    selectPerson,\r\n    fetchPerson,\r\n    fetchPersonList,\r\n    fetchPlanet,\r\n    fetchPlanetList,\r\n    fetchStarship,\r\n    fetchStarshipList,\r\n};","export default function itemSingleDataArrayToString(array) {\r\n    return `${array[0]}: ${array[1]} ${ array[2] ? '(' + array[2] + ')' : '' }`;\r\n}","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorElement from '../ErrorElement/ErrorElement';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport { fetchRandomPlanet } from '../../actions/actions';\r\nimport itemSingleDataArrayToString from '../../utils/itemSingleDataArrayToString';\r\n\r\n\r\nclass RandomPlanetContainer extends React.Component {\r\n    componentDidMount() {\r\n        const random = Math.floor(Math.random()*25+2);\r\n        this.props.fetchRandomPlanet(random);\r\n    }\r\n\r\n    render() {\r\n        const { planet, error, loading } = this.props.randomPlanetState;\r\n        let Content;\r\n        if (error) {\r\n            Content = () => <ErrorElement error={error} />;\r\n        } else if (loading) {\r\n            Content = () => <Spinner/>;\r\n        } else {\r\n            Content = () => <RandomPlanet planet={planet} />;\r\n        }\r\n        return (<>\r\n            <h5>Случайная планета</h5>\r\n            <div className=\"card mb-3\">\r\n                <div className=\"row no-gutters\">\r\n                    <Content />\r\n                </div>\r\n            </div>\r\n        </>);\r\n    }\r\n}\r\n\r\nconst RandomPlanet = (props) => {\r\n    const { id, name, img, data } = props.planet;\r\n    const dataKeys = Object.keys(data)\r\n    return (\r\n        <div className=\"row no-gutters\">\r\n            <div className=\"col-md-4\">\r\n                <img src={img} className=\"card-img mx-1 my-1\" alt=\"Случайная планета\" />\r\n            </div>\r\n            <div className=\"col-md-8\">\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{name}</h5>\r\n                    {dataKeys.map((item, number) => \r\n                        <p key={`item${id}Data${number}`} className=\"card-text\">\r\n                            {itemSingleDataArrayToString(data[item])}\r\n                        </p>\r\n                    )}\r\n                    <Link to={`/planet/${id}`} className=\"mt-3 btn btn-light\">Подробнее</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        randomPlanetState: state.randomPlanetState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchRandomPlanet: fetchRandomPlanet(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default connectWithSwapiService(\r\n    connectWithStore(mapStateToProps, mapDispatchToProps)(RandomPlanetContainer)\r\n);","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport ErrorElement from '../ErrorElement/ErrorElement';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport { fetchPersonMiniList, selectPerson } from '../../actions/actions';\r\n\r\nclass PersonMiniListContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPersonMiniList();\r\n    }\r\n\r\n    render() {\r\n        const { person, list, error, loading } = this.props.personMiniListState;\r\n\r\n        const selectedId = person ? person.id : null;\r\n        let ListContent;\r\n        if (error) {\r\n            ListContent = () => <ErrorElement error={error} />;\r\n        } else if (loading) {\r\n            ListContent = () => <Spinner/>;\r\n        } else {\r\n            ListContent = () => <PersonMiniList list={list} selectPerson={this.props.selectPerson} selectedId={selectedId} />;\r\n        }\r\n\r\n        let PhotoContent;\r\n        if (!person) {\r\n            PhotoContent = () => <Spinner/>;\r\n        } else {\r\n            PhotoContent = () => <PersonPhoto person={person} />;\r\n        }\r\n\r\n        return (<>\r\n            <h5>Список персонажей</h5>\r\n            <div className=\"row mb-3\">\r\n                <div className=\"col\">\r\n                    <ListContent />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <PhotoContent />\r\n                </div>\r\n            </div>\r\n        </>);\r\n    }\r\n}\r\n\r\nconst PersonMiniList = (props) => {\r\n    return (\r\n        props.list.map(person => {\r\n            const classes = classnames({\r\n                'list-group-item': true,\r\n                'list-group-item-action': true,\r\n                active: person.id === props.selectedId,\r\n            });\r\n            return <button \r\n                key={person.name}\r\n                type=\"button\"\r\n                className={classes}\r\n                onClick={props.selectPerson(person)}\r\n            >{person.name}</button>\r\n        })\r\n    );\r\n}\r\nconst PersonPhoto = (props) => {\r\n    return (<>\r\n        <img src={props.person.img} className=\"card-img-top\" alt={props.person.name}/>\r\n        <Link to={`/person/${props.person.id}`} className=\"mt-3 btn btn-light\">Страница персонажа</Link>\r\n    </>);\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        personMiniListState: state.personMiniListState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchPersonMiniList: fetchPersonMiniList(dispatch, ownProps),\r\n        selectPerson: selectPerson(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default connectWithSwapiService(\r\n    connectWithStore(mapStateToProps, mapDispatchToProps)(PersonMiniListContainer)\r\n);","import React from 'react';\r\nimport RandomPlanet from '../RandomPlanet/RandomPlanet';\r\nimport PersonMiniList from '../PersonMiniList/PersonMiniList';\r\n\r\nconst MainPage = () => {\r\n    return (<>\r\n        <RandomPlanet />\r\n        <PersonMiniList />\r\n    </>);\r\n}\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst Pagination = (props) => {\r\n    const { currentPage, countPages } = props.pages;\r\n    const { eventListener } = props;\r\n    const pageQuantity = [...new Array(Math.ceil(countPages/10))];\r\n\r\n    const prevClass = classnames({\r\n        'page-item': true,\r\n        disabled: currentPage === 1,\r\n    });\r\n    const nextClass = classnames({\r\n        'page-item': true,\r\n        disabled: currentPage === pageQuantity.length,\r\n    });\r\n\r\n    return (\r\n        <nav>\r\n            <ul className=\"pagination\">\r\n                <li className={prevClass}>\r\n                    <button onClick={eventListener(currentPage -1)} className=\"page-link\">Предыдущая</button>\r\n                </li>\r\n\r\n                {pageQuantity.map((i, number) => {\r\n                    const pageNumber = number + 1;\r\n                    const classes = classnames({\r\n                        'page-item': true,\r\n                        active: pageNumber === currentPage,\r\n                    });\r\n                    return (\r\n                        <li key={`page${pageNumber}`} className={classes}>\r\n                            <button onClick={eventListener(pageNumber)} className=\"page-link\">{pageNumber}</button>\r\n                        </li>\r\n                    );\r\n                })}\r\n\r\n                <li className={nextClass}>\r\n                    <button onClick={eventListener(currentPage + 1)} className=\"page-link\" >Следующая</button>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorElement from '../ErrorElement/ErrorElement';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport Pagination from '../Pagination/Pagination';\r\n\r\nexport default class ItemList extends React.Component {\r\n    componentDidMount() {\r\n        const currentPageFromHistory = this.props.match.params.page;\r\n        this.props.fetchList(currentPageFromHistory);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const oldPathname = prevProps.location.pathname;\r\n        const newPathname = this.props.location.pathname;\r\n        const isMainLink = /\\/all$/.test(this.props.location.pathname);\r\n        if (oldPathname !== newPathname && isMainLink) {\r\n          this.changePage()();\r\n        }\r\n      }\r\n\r\n    changePage = (page) => () => {\r\n        this.props.fetchList(page);\r\n        this.props.history.push(`/${this.props.type}/all` + (page ? `/${page}` : ''));\r\n    }\r\n\r\n    render() {\r\n        const { state, type } = this.props;\r\n        const { list, pages, loading, error } = state;\r\n\r\n        let Content;\r\n        if (error) {\r\n            Content = () => <ErrorElement error={error} />;\r\n        } else if (loading) {\r\n            Content = () => <Spinner/>;\r\n        } else {\r\n            Content = () => (<>\r\n                <div className=\"d-flex flex-row flex-wrap justify-content-around\">\r\n                    {list.map(item => <ItemCard key={`item${item.id}`} item={item} type={type} />)}\r\n                </div>\r\n                <div className=\"d-flex flex-row flex-wrap justify-content-around\">\r\n                    <Pagination pages={pages} eventListener={this.changePage}/>\r\n                </div>\r\n            </>);\r\n        }\r\n\r\n        return <Content />;\r\n    }\r\n}\r\n\r\nconst ItemCard = (props) => {\r\n    const { item, type } = props;\r\n    return <div className=\"card mb-3\" style={{width: '200px'}}>\r\n        <img src={item.img} className=\"card-img-top\" alt={item.name} />\r\n        <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{item.name}</h5>\r\n            <Link to={`/${type}/${item.id}`} className=\"btn btn-link\">Подробнее</Link>\r\n        </div>\r\n    </div>\r\n}","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport ItemList from '../ItemList/ItemList';\r\nimport { fetchPersonList } from '../../actions/actions';\r\nimport entityTypes from '../../constants/entityTypes';\r\n\r\nconst PersonList = (props) => <ItemList {...props} type={entityTypes.person} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.personListState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchList: fetchPersonList(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(PersonList)\r\n        )\r\n    );","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst RelationList = ({ relations }) => {\r\n    return relations.map((relation, index) => {\r\n\r\n        const { name, data, type } = relation;\r\n\r\n        if (relation.loading) {\r\n            return <div key={`relation${name}${index}IsLoading`} className=\"mb-3\">\r\n                <h6 className=\"card-title\">{name}</h6>\r\n                <Spinner />\r\n            </div>\r\n        }\r\n        return <div key={`relationBlock${type}${index}`} className=\"mb-3\">\r\n            <h6 className=\"card-title\">{name}</h6>\r\n            <div className=\"d-flex flex-row flex-wrap justify-content-around\">\r\n                {data.map((item, number) => \r\n                    <div key={`relation${type}${number}`} className=\"card mb-3\" style={{width: '100px'}}>\r\n                        <img src={item.img} className=\"card-img-top\" alt={item.name} />\r\n                        <div className=\"card-body px-2 py-1\">\r\n                            <p className=\"card-text mb-1\">{item.name}</p>\r\n                            <Link to={`/${type}/${item.id}`} className=\"btn btn-link px-0 py-0\">Подробнее</Link>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    })\r\n}\r\n\r\nexport default RelationList;","import React from 'react';\r\nimport ErrorElement from '../ErrorElement/ErrorElement';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport itemSingleDataArrayToString from '../../utils/itemSingleDataArrayToString';\r\nimport RelationList from '../RelationList/RelationList';\r\n\r\nexport default class itemPage extends React.Component {\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        this.props.fetchItem(id);\r\n    }\r\n\r\n    render() {\r\n        const { state } = this.props;\r\n        const { item, loading, error } = state;\r\n\r\n        let Content;\r\n        if (error) {\r\n            Content = () => <ErrorElement error={error} />;\r\n        } else if (loading) {\r\n            Content = () => <Spinner/>;\r\n        } else {\r\n            Content = () => <ItemCard item={item} />;\r\n        }\r\n\r\n        return <Content />;\r\n    }\r\n}\r\n\r\nconst ItemCard = (props) => {\r\n    const { id, name, img, data, relations } = props.item;\r\n    const dataKeys = Object.keys(data);\r\n\r\n    let AditionalContent;\r\n    if (relations) {\r\n        AditionalContent = () => <RelationList relations={relations} />;\r\n    } else {\r\n        AditionalContent = () => null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"card mb-3\">\r\n            <img src={img} className=\"card-img-top\" alt={name}/>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{name}</h5>\r\n                {dataKeys.map((item, number) => \r\n                    <p key={`item${id}Data${number}`} className=\"card-text\">\r\n                        {itemSingleDataArrayToString(data[item])}\r\n                    </p>\r\n                )}\r\n                <AditionalContent />\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport { fetchPerson } from '../../actions/actions';\r\nimport ItemPage from '../ItemPage/itemPage';\r\n\r\nconst PersonPage = (props) => <ItemPage {...props} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.personState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchItem: fetchPerson(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(PersonPage)\r\n        )\r\n    );","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport ItemList from '../ItemList/ItemList';\r\nimport { fetchPlanetList } from '../../actions/actions';\r\nimport entityTypes from '../../constants/entityTypes';\r\n\r\nconst PlanetList = (props) => <ItemList {...props} type={entityTypes.planet} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.planetListState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchList: fetchPlanetList(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(PlanetList)\r\n        )\r\n    );","import React from 'react';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\n\r\nconst PageNotFound = ({ history }) => {\r\n    return (<div className=\"text-center mt-5\">\r\n        <h2>Ошибка 404: нет такой страницы!</h2>\r\n        <div>Вы можете вернуться на<button className=\"btn btn-link\" onClick={() => history.goBack()}>предыдущую страницу</button></div>\r\n    </div>);\r\n};\r\n\r\nexport default connectWithcRouter(PageNotFound);","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport { fetchPlanet } from '../../actions/actions';\r\nimport ItemPage from '../ItemPage/itemPage';\r\n\r\nconst PlanetPage = (props) => <ItemPage {...props} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.planetState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchItem: fetchPlanet(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(PlanetPage)\r\n        )\r\n    );","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport ItemList from '../ItemList/ItemList';\r\nimport { fetchStarshipList } from '../../actions/actions';\r\nimport entityTypes from '../../constants/entityTypes';\r\n\r\nconst StarshipList = (props) => <ItemList {...props} type={entityTypes.starship} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.starshipListState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchList: fetchStarshipList(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(StarshipList)\r\n        )\r\n    );","import React from 'react';\r\nimport { connect as connectWithStore } from 'react-redux';\r\nimport { withRouter as connectWithcRouter } from 'react-router-dom';\r\nimport connectWithSwapiService from '../hoc/connectWithSwapiService';\r\nimport { fetchStarship } from '../../actions/actions';\r\nimport ItemPage from '../ItemPage/itemPage';\r\n\r\nconst StarshipPage = (props) => <ItemPage {...props} />\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.starshipState,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fetchItem: fetchStarship(dispatch, ownProps),\r\n    }\r\n}\r\n\r\nexport default \r\n    connectWithcRouter(\r\n        connectWithSwapiService(\r\n            connectWithStore(mapStateToProps, mapDispatchToProps)(StarshipPage)\r\n        )\r\n    );","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ErrorBoundary from '../ErrorBoundary/ErrorBoundary';\r\nimport Header from '../Header/Header';\r\nimport MainPage from '../MainPage/MainPage';\r\nimport PersonList from '../PersonList/PersonList';\r\nimport PersonPage from '../PersonPage/PersonPage';\r\nimport PlanetList from '../PlanetList/PlanetList';\r\nimport PageNotFound from '../PageNotFound/PageNotFound';\r\nimport PlanetPage from '../PlanetPage/PlanetPage';\r\nimport StarshipList from '../StarshipList/StarshipList';\r\nimport StarshipPage from '../StarshipPage/StarshipPage';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <ErrorBoundary>\r\n                <Header/>\r\n            </ErrorBoundary>\r\n            <ErrorBoundary>\r\n                <Switch>\r\n                    <Route path='/' exact component={MainPage} />\r\n                    <Route path='/person/all/:page?' component={PersonList} />\r\n                    <Route path='/person/:id' component={PersonPage} />\r\n                    <Route path='/planet/all/:page?' component={PlanetList} />\r\n                    <Route path='/planet/:id' component={PlanetPage} />\r\n                    <Route path='/starship/all/:page?' component={StarshipList} />\r\n                    <Route path='/starship/:id' component={StarshipPage} />\r\n                    <Route component={PageNotFound} />\r\n                </Switch>\r\n            </ErrorBoundary>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","export default function getId(source) {\r\n    const idRegExp = /\\/([0-9]{1,3})\\/$/;\r\n    const id = source.match(idRegExp)[1];\r\n    return id;\r\n}","import getId from './getId';\r\nimport loadingIcon from '../images/loading-icon.gif';\r\nimport entityTypes from '../constants/entityTypes';\r\n\r\nfunction translateUnknown(text) {\r\n    return text === 'unknown' ? 'неизвестно' : text;\r\n}\r\n\r\nexport function transformPlanet(data, miniFetch){\r\n    const id = getId(data.url);\r\n    const updatedItem = {\r\n        id,\r\n        name: data.name,\r\n        img: loadingIcon,\r\n        data: {\r\n            population: ['Население', data.population],\r\n            rotation: ['Период вращения', data.rotation_period, 'в сутках'],\r\n            diameter: ['Диаметр', data.diameter, 'в километрах'],\r\n        },\r\n    }\r\n\r\n    if (miniFetch) {\r\n        return updatedItem;\r\n    }\r\n\r\n    if (data.residents.length > 0) {\r\n        updatedItem.relations = [{\r\n            name: 'Резиденты',\r\n            loading: true,\r\n            type: entityTypes.person,\r\n            data: data.residents.map(item => getId(item)),\r\n        }];\r\n    }\r\n\r\n    return updatedItem;\r\n}\r\n\r\nexport function transformPerson(data, miniFetch){\r\n    const id = getId(data.url);\r\n    const birth = translateUnknown(data.birth_year);\r\n    const mass = translateUnknown(data.mass)\r\n    let gender;\r\n    switch (data.gender) {\r\n        case 'female':\r\n            gender = 'женский';\r\n            break;\r\n        case 'male':\r\n            gender = 'мужской';\r\n            break;\r\n        default:\r\n            gender = 'недоступно';\r\n    }\r\n    \r\n    const updatedItem = {\r\n        id,\r\n        name: data.name,\r\n        img: loadingIcon,\r\n        data: {\r\n            height: ['Рост', data.height, 'в сантиметрах'],\r\n            gender: ['Пол', gender],\r\n            birth: ['Дата рождения', birth],\r\n            mass: ['Вес', mass, 'в килограммах'],\r\n        },\r\n        relations: [],\r\n    }\r\n\r\n    if (miniFetch) {\r\n        return updatedItem;\r\n    }\r\n\r\n    if (data.starships.length > 0) {\r\n        updatedItem.relations.push({\r\n            name: 'Пилот',\r\n            loading: true,\r\n            type: entityTypes.starship,\r\n            data: data.starships.map(item => getId(item)),\r\n        });\r\n    }\r\n    if (data.homeworld.length > 0) {\r\n        updatedItem.relations.push({\r\n            name: 'Родная планета',\r\n            loading: true,\r\n            type: entityTypes.planet,\r\n            data: [ getId(data.homeworld) ],\r\n        });\r\n    }\r\n    return updatedItem;\r\n}\r\n\r\nexport function transformStarship(data, miniFetch){\r\n    const id = getId(data.url);\r\n    const cost = translateUnknown(data.cost_in_credits);\r\n    const updatedItem =  {\r\n        id,\r\n        name: data.name,\r\n        img: loadingIcon,\r\n        data: {\r\n            cost: ['Cтоимость', cost, 'в кредитах'],\r\n            manufacturer: ['Производитель', data.manufacturer],\r\n            crew: ['Экипаж', data.crew],\r\n            length: ['Длинна', data.length, 'в метрах'],\r\n            passengers: ['Вместимость пассажиров', data.passengers],\r\n        }\r\n    }\r\n\r\n    if (miniFetch) {\r\n        return updatedItem;\r\n    }\r\n\r\n    if (data.pilots.length > 0) {\r\n        updatedItem.relations = [{\r\n            name: 'Пилоты',\r\n            loading: true,\r\n            type: entityTypes.person,\r\n            data: data.pilots.map(item => getId(item)),\r\n        }];\r\n    }\r\n    return updatedItem;\r\n}\r\n\r\nexport function transformPaginationData(data, page){\r\n    const currentPage = +page || 1;\r\n    return {\r\n        pages: {\r\n            currentPage,\r\n            countPages: data.count,\r\n        },\r\n        results: data.results,\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider as StoreProvider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport ErrorBoundary from './components/ErrorBoundary/ErrorBoundary';\nimport store from './store';\nimport App from './components/App/App';\nimport SwapiService from './api/SwapiService';\nimport { SwapiServiceProvider } from './components/swapiContext/swapiContext';\nimport { dataApiUrl, imgApiUrl } from './constants/apiUrl';\n\nconst swapiService = new SwapiService(dataApiUrl, imgApiUrl);\n\nReactDOM.render(\n  <StoreProvider store={store}>\n    <ErrorBoundary>\n      <SwapiServiceProvider value={swapiService}>\n        <Router basename=\"/star-db/\">\n          <App />\n        </Router>\n      </SwapiServiceProvider>\n    </ErrorBoundary>\n  </StoreProvider>,\n  document.getElementById('root')\n);\n","import {\r\n    transformPlanet,\r\n    transformPerson,\r\n    transformPaginationData,\r\n    transformStarship,\r\n} from '../utils/transformIncomigData';\r\n\r\nexport default class SwapiService {\r\n    constructor(dataApiUrl, imgApiUrl) {\r\n        this._dataApiUrl = dataApiUrl;\r\n        this._imgApiUrl = imgApiUrl;\r\n        this.planet = {\r\n            getImageMethod: this.getPlanetPhoto,\r\n            getItemMethod: this.getPlanet,\r\n            getListMethod: this.getAllPlanets,\r\n        }\r\n        this.person = {\r\n            getImageMethod: this.getPersonPhoto,\r\n            getItemMethod: this.getPerson,\r\n            getListMethod: this.getAllPersons,\r\n        }\r\n        this.starship = {\r\n            getImageMethod: this.getStarshipPhoto,\r\n            getItemMethod: this.getStarship,\r\n            getListMethod: this.getAllStarship,\r\n        }\r\n    }\r\n\r\n    async _getResource (url) {\r\n        const res = await fetch(url);\r\n        if (!res.ok) {\r\n            throw new Error (res.status);\r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    async _getImage (url) {\r\n        const res = await fetch(url);\r\n        if (!res.ok) {\r\n            throw new Error (res.status);\r\n        }\r\n        return await res.blob();\r\n    }\r\n\r\n    getPerson = (id, miniFetch) => {\r\n        return this._getResource(`${this._dataApiUrl}/people/${id}`)\r\n            .then(item => transformPerson(item, miniFetch));\r\n    }\r\n    getAllPersons = (page) => {\r\n        return this._getResource(`${this._dataApiUrl}/people/` + (page ? `?page=${page}` : ``) )\r\n            .then(data => {\r\n                data.results = data.results.map(item => transformPerson(item));\r\n                data = transformPaginationData(data, page);\r\n                return data;\r\n            });\r\n    }\r\n    getAllPersonsMini() {\r\n        return this._getResource(`${this._dataApiUrl}/people/`)\r\n            .then(data => data.results.map(item => transformPerson(item)));\r\n    }\r\n    getPersonPhoto = (id) => {\r\n        return this._getImage(`${this._imgApiUrl}/characters/${id}.jpg`);\r\n    }\r\n\r\n    getPlanet = (id, miniFetch) => {\r\n        return this._getResource(`${this._dataApiUrl}/planets/${id}`)\r\n            .then(item => transformPlanet(item, miniFetch));\r\n    }\r\n    getAllPlanets = (page) => {\r\n        return this._getResource(`${this._dataApiUrl}/planets/` + (page ? `?page=${page}` : ``) )\r\n            .then(data => {\r\n                data.results = data.results.map(item => transformPlanet(item));\r\n                data = transformPaginationData(data, page);\r\n                return data;\r\n            });\r\n    }\r\n    getPlanetPhoto = (id) => {\r\n        return this._getImage(`${this._imgApiUrl}/planets/${id}.jpg`);\r\n    }\r\n\r\n    getStarship = (id, miniFetch) => {\r\n        return this._getResource(`${this._dataApiUrl}/starships/${id}`)\r\n            .then(item => transformStarship(item, miniFetch));\r\n    }\r\n    getAllStarship = (page) => {\r\n        return this._getResource(`${this._dataApiUrl}/starships/` + (page ? `?page=${page}` : ``) )\r\n            .then(data => {\r\n                data.results = data.results.map(item => transformStarship(item));\r\n                data = transformPaginationData(data, page);\r\n                return data;\r\n            });\r\n    }\r\n    getStarshipPhoto = (id) => {\r\n        return this._getImage(`${this._imgApiUrl}/starships/${id}.jpg`);\r\n    }\r\n}","const dataApiUrl = 'https://swapi.dev/api';\r\nconst imgApiUrl = 'https://starwars-visualguide.com/assets/img';\r\nexport { dataApiUrl, imgApiUrl };"],"sourceRoot":""}